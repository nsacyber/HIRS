<!--<my:page>-->
<!--  <jsp:attribute name="script">-->
<!--    <script-->
<!--            src="${lib}/jquery.spring-friendly/jquery.spring-friendly.js"-->
<!--            type="text/javascript"-->
<!--    ></script>-->
<!--  </jsp:attribute>-->
<!--    <jsp:attribute name="pageHeaderTitle">Device Listing</jsp:attribute>-->

<!--    <jsp:body>-->
<!--        &lt;!&ndash; text and icon resource variables &ndash;&gt;-->
<!--        <c:set-->
<!--                value="${icons}/ic_checkbox_marked_circle_black_green_24dp.png"-->
<!--                var="passIcon"-->
<!--        />-->
<!--        <c:set value="${icons}/ic_error_red_24dp.png" var="failIcon"/>-->
<!--        <c:set value=".${icons}/ic_error_black_24dp.png" var="errorIcon"/>-->
<!--        <c:set-->
<!--                value="${icons}/ic_questionmark_circle_orange_24dp.png"-->
<!--                var="unknownIcon"-->
<!--        />-->
<!--        <c:set value="Validation Passed" var="passText"/>-->
<!--        <c:set value="Validation Failed" var="failText"/>-->
<!--        <c:set value="Validation Error" var="errorText"/>-->
<!--        <c:set value="Unknown Validation Status" var="unknownText"/>-->

<!--        <div class="aca-data-table">-->
<!--            <table class="display" id="deviceTable" width="100%">-->
<!--                <thead>-->
<!--                <tr>-->
<!--                    <th rowspan="2">Validation Status</th>-->
<!--                    <th rowspan="2">Hostname</th>-->
<!--                    <th colspan="3">Credentials</th>-->
<!--                </tr>-->
<!--                <tr>-->
<!--                    <th>Issued Attestation</th>-->
<!--                    <th>Platform</th>-->
<!--                    <th>Endorsement</th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--            </table>-->
<!--        </div>-->
<!--        <script>-->
<!--            $(document).ready(function () {-->
<!--              let url = portal + "/devices/list";-->
<!--              let columns = [-->
<!--                {-->
<!--                  data: "supplyChainValidationStatus",-->
<!--                  searchable: false,-->
<!--                  render: function (data, type, full, meta) {-->
<!--                    let html = "";-->
<!--                    switch (full.device.supplyChainValidationStatus) {-->
<!--                      case "PASS":-->
<!--                        html = '<img src="${passIcon}" title="${passText}">';-->
<!--                        break;-->
<!--                      case "FAIL":-->
<!--                        html = '<img src="${failIcon}" title="${failText}"/>';-->
<!--                        break;-->
<!--                      case "ERROR":-->
<!--                        html = '<img src="${errorIcon}" title="${errorText}">';-->
<!--                        break;-->
<!--                      default:-->
<!--                        html = '<img src="${unknownIcon}" title="${unknownText}">';-->
<!--                        break;-->
<!--                    }-->
<!--                    return html;-->
<!--                  },-->
<!--                },-->
<!--                {-->
<!--                  name: "name",-->
<!--                  data: "name",-->
<!--                  searchable: true,-->
<!--                  orderable: true,-->
<!--                  render: function (data, type, full, meta) {-->
<!--                    return full.device.name;-->
<!--                  },-->
<!--                },-->
<!--                {-->
<!--                  data: "id",-->
<!--                  orderable: false,-->
<!--                  searchable: false,-->
<!--                  render: function (data, type, full, meta) {-->
<!--                    //Display issued attestation certificate-->
<!--                    if (full.IssuedAttestationCertificate === undefined) return "";-->
<!--                    let size = full.IssuedAttestationCertificate.length;-->
<!--                    let html = "";-->

<!--                    for (let i = 0; i < size; i++) {-->
<!--                      let id = full.IssuedAttestationCertificate[i].id;-->
<!--                      html += certificateDetailsLink("issued", id, false);-->
<!--                    }-->

<!--                    return html;-->
<!--                  },-->
<!--                },-->
<!--                {-->
<!--                  data: "id",-->
<!--                  orderable: false,-->
<!--                  searchable: false,-->
<!--                  render: function (data, type, full, meta) {-->
<!--                    //Display platform credential-->
<!--                    if (full.PlatformCredential === undefined) return "";-->
<!--                    let size = full.PlatformCredential.length;-->
<!--                    let html = "";-->

<!--                    for (let i = 0; i < size; i++) {-->
<!--                      let id = full.PlatformCredential[i].id;-->
<!--                      html +=-->
<!--                        certificateDetailsLink("platform", id, false) + "&nbsp;";-->
<!--                    }-->

<!--                    return html;-->
<!--                  },-->
<!--                },-->
<!--                {-->
<!--                  data: "id",-->
<!--                  orderable: false,-->
<!--                  searchable: false,-->
<!--                  render: function (data, type, full, meta) {-->
<!--                    //Display endorsement credential-->
<!--                    if (full.EndorsementCredential === undefined) return "";-->
<!--                    let size = full.EndorsementCredential.length;-->
<!--                    let html = "";-->

<!--                    for (let i = 0; i < size; i++) {-->
<!--                      let id = full.EndorsementCredential[i].id;-->
<!--                      html +=-->
<!--                        certificateDetailsLink("endorsement", id, false) + "&nbsp;";-->
<!--                    }-->

<!--                    return html;-->
<!--                  },-->
<!--                },-->
<!--              ];-->

<!--              //Set data tables-->
<!--              setDataTables("#deviceTable", url, columns);-->
<!--            });-->
<!--        </script>-->
<!--    </jsp:body>-->
<!--</my:page>-->
